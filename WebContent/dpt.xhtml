<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	>
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Insert title here</title>
</h:head>
<h:body>
	<h:form>
	<p:spacer height="75"/>
	<p:growl autoUpdate="true"/>
		<p:panelGrid columns="2" style="margin:auto;">
		<f:facet name="header">
		Departments
		</f:facet>
			<p:outputLabel value="dpt Id:-" for="dptId" />
			<p:inputText value="#{mBDepartment.dpt.dptId}" required="true" id="dptId" />
			<p:outputLabel value="dpt name:-" for="nm" />
			<p:inputText value="#{mBDepartment.dpt.dptName}" id="nm" required="true" />
			<f:facet name="footer">
			<div align="center">
			<p:commandButton value="save" action="#{mBDepartment.save}" process="@this,nm" update="@form"/>
			<p:commandButton value="Clear" action="#{mBDepartment.reset}" process="@this" update="@form" />
			<p:commandButton value="find" action="#{mBDepartment.find}" process="@this,dptId" update="@form" />
			<p:commandButton value="Delete" action="#{mBDepartment.dao.delete(mBDepartment.dpt)}" process="@this" update="@form" />
			</div>
			</f:facet>
		</p:panelGrid>
		<p:spacer height="25" />

		<p:dataTable value="#{mBDepartment.alldpt}" id="tbl" selection="#{mBDepartment.dpt}"
		selectionMode="single" rowKey="#{var.dptId}"
		 var="var">
		 <p:ajax  event="rowSelect" process="@this,tbl" update="@form" />
			<p:column>
				<p:outputLabel value="#{var.dptId}" />
			</p:column>

			<p:column>
				<p:outputLabel value="#{var.dptName}" />
			</p:column>

		</p:dataTable>
	</h:form>
</h:body>
</html>